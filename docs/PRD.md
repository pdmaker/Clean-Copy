
# 原始需求背景

我在 ChatGPT 网站上的对话内容，通过复制按钮，复制出来的是带 Markdown 格式的，比如加粗的文本 加粗文本，我把这个内容粘贴到我的笔记工具里，仍然是带有这些烦人的 **，但如果直接去除 ** 这种符号，我这些基础加粗样式就丢掉了。我设想的是一个浏览器插件，届时作用于 ChatGPT.com 等网站，可以达到复制后，如果粘贴的地方是富文本支持，那么就支持富文本的直接展示，如果是纯文本，那就展示纯文本就行了（且不需要有 Markdown 格式）

# Clean Copy 浏览器插件需求文档

## 1. 项目概述

### 1.1 项目背景
用户在 AI 对话网站（如 ChatGPT、PPLX.AI 等）复制内容时，常遇到 Markdown 格式符号干扰的问题。现有复制方式无法智能处理格式，导致在富文本编辑器中显示原始 Markdown 标记。

### 1.2 项目目标
开发一个浏览器插件，实现智能复制功能，使用户能够根据粘贴环境获得最适合的内容格式。

## 2. 功能需求

### 2.1 核心功能
1. **智能复制按钮**
   - 在支持的网站界面添加专用的复制按钮
   - 按钮位置可配置，具体在不同网站的位置不一样，会补充页面元素待定
   - 支持快捷键触发复制操作

2. **格式转换**
   - 自动识别选中文本中的 Markdown 格式
   - 同时生成两种格式：
     - 富文本格式（HTML）
     - 纯文本格式（无格式标记）

3. **智能粘贴**
   - 在富文本环境：保留文本格式（加粗、斜体等）
   - 在纯文本环境：提供清洁的文本内容

### 2.2 支持的 Markdown 语法
1. 文本格式化
   - 加粗（`**文本**` 或 `__文本__`）
   - 斜体（`*文本*` 或 `_文本_`）
   
2. 结构化内容
   - 标题（`# 一级标题` 到 `###### 六级标题`）
   - 无序列表（`-`、`*`、`+`）
   - 有序列表（`1.`、`2.` 等）
   - 引用（`>`）
   
3. 特殊元素
   - 代码块（行内 `` ` `` 和多行 ``` ``` ```）
   - 链接（`[文本](URL)`）
   - 任务列表（`- [ ]` 和 `- [x]`）
   - 分隔线（`---` 或 `***`）

### 2.3 网站适配
1. **首期支持网站**
   - ChatGPT.com
   - PPLX.ai

2. **配置系统**
   - 支持针对不同网站配置选择器规则
   - 允许用户添加自定义网站规则

## 3. 非功能需求

### 3.1 性能要求
- 复制转换响应时间 < 100ms
- 支持处理大段文本（10000字以上）
- 内存占用合理，不影响浏览器性能

### 3.2 兼容性要求
- **浏览器支持**
  - Chrome 最新版
  - Edge 最新版
  - Firefox 最新版
- **系统支持**
  - Windows 10/11
  - macOS 最新版
  - Linux 主流发行版

### 3.3 用户体验
- 复制操作有明确的视觉反馈
- 插件配置界面简洁易用
- 支持快捷键自定义

## 4. 配置需求

### 4.1 基础配置
- 启用/禁用插件
- 选择性启用特定格式转换

### 4.2 网站规则配置
略

## 5. 后续规划

### 5.1 第一阶段（MVP）
- 基础复制功能实现
- 支持 ChatGPT.com
- 核心 Markdown 语法支持

### 5.2 第二阶段
- 增加更多网站支持
- 完善配置系统
- 优化性能

### 5.3 第三阶段
- 用户自定义规则
- 高级格式支持
- 批量处理功能

## 6. 验收标准
1. 在支持的网站中能正确显示复制按钮
2. 富文本编辑器里，Markdown 格式正确转换为对应的富文本格式
3. 纯文本模式下不含任何格式标记
4. 性能符合要求
5. 跨浏览器兼容性测试通过

